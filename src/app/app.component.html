<div class="flex min-h-screen bg-[#000B1D] text-gray-200 font-sans selection:bg-[#0033AD] selection:text-white">
    <app-sidebar [activeView]="currentView" (onNavigate)="onNavigate($event)"></app-sidebar>

    <div
        class="flex-1 ml-20 flex flex-col bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-[#0033AD15] via-transparent to-transparent">

        <header
            class="h-16 border-b border-blue-900/30 bg-[#000B1D]/90 backdrop-blur sticky top-0 z-40 px-8 flex items-center justify-between">
            <div class="flex items-center gap-4">
                <h2 class="text-lg font-bold text-white">{{ getViewTitle() }}</h2>
                <span *ngIf="config.useHardwareSigner"
                    class="bg-green-900/30 text-green-400 border border-green-500/30 px-2 py-0.5 rounded text-[10px] font-bold tracking-wider">
                    <i class="fas fa-microchip"></i> HARDWARE SECURED
                </span>
            </div>
            <div class="flex gap-6 items-center">
                <div class="text-right">
                    <div class="text-[10px] text-gray-500 uppercase">Treasury</div>
                    <div class="text-white font-mono font-bold">{{ walletBalance | number:'1.2-2' }} â‚³</div>
                </div>
            </div>
        </header>

        <main class="flex-1 overflow-y-auto relative" [ngSwitch]="currentView">
            <div
                class="absolute top-0 right-0 w-96 h-96 bg-[#00D1FF] rounded-full blur-[128px] opacity-[0.05] pointer-events-none">
            </div>

            <app-dashboard-view *ngSwitchCase="'DASHBOARD'" [battery]="battery" [gForce]="gForce"
                [customsCleared]="customsCleared" [isProcessing]="isProcessing" [processingStep]="processingStep"
                [processingStage]="processingStage" [auditLogs]="auditLogs" (triggerEvent)="runScenario($event)">
            </app-dashboard-view>

            <app-wallet-view *ngSwitchCase="'WALLET'" [balance]="walletBalance" [transactions]="transactions">
            </app-wallet-view>

            <app-settings-view *ngSwitchCase="'SETTINGS'" [config]="config" (onConfigChange)="config = $event">
            </app-settings-view>

            <div *ngSwitchCase="'TERMINAL'" class="p-8 font-mono text-sm text-gray-400">
                <div *ngFor="let log of auditLogs" class="mb-4">
                    <span class="text-blue-400">{{ log.timestamp | date:'ISO' }}</span>: {{ log.json | json }}
                </div>
            </div>

        </main>
    </div>
</div>